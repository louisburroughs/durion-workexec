<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-3.xsd">

    <entity entity-name="DurWorkOrder" package-name="durion.workexec" table-name="DUR_WORK_ORDER">
        <description>Work order for repair/service execution</description>
        <field name="workOrderId" type="id" is-pk="true"/>
        <field name="workOrderNumber" type="text-short">
            <description>Human-readable work order number</description>
        </field>
        <field name="customerId" type="id" required="true">
            <description>Link to customer in durion-crm</description>
        </field>
        <field name="vehicleId" type="id" required="true">
            <description>Link to vehicle in durion-crm</description>
        </field>
        <field name="appointmentId" type="id">
            <description>Link to appointment in durion-shopmgr</description>
        </field>
        <field name="estimateId" type="id">
            <description>Link to estimate if work order created from estimate</description>
        </field>
        <field name="orderDate" type="date-time" default="ec.user.nowTimestamp"/>
        <field name="promisedDate" type="date-time">
            <description>Promised completion date</description>
        </field>
        <field name="actualCompletionDate" type="date-time"/>
        <field name="mechanicId" type="id">
            <description>Primary assigned mechanic</description>
        </field>
        <field name="bayId" type="id">
            <description>Assigned bay/location</description>
        </field>
        <field name="mobileUnitId" type="id">
            <description>Assigned mobile unit for roadside service</description>
        </field>
        <field name="workOrderType" type="text-short" default="SHOP">
            <description>SHOP, MOBILE, ROADSIDE, FLEET</description>
        </field>
        <field name="priority" type="text-short" default="NORMAL">
            <description>URGENT, HIGH, NORMAL, LOW</description>
        </field>
        <field name="statusId" type="text-short" default="WO_CREATED">
            <description>WO_CREATED, WO_SCHEDULED, WO_IN_PROGRESS, WO_COMPLETED, WO_INVOICED, WO_CANCELLED</description>
        </field>
        <field name="customerComplaint" type="text-long">
            <description>Customer reported issues</description>
        </field>
        <field name="technicianNotes" type="text-long">
            <description>Technician findings and work performed</description>
        </field>
        <field name="mileageIn" type="number-integer">
            <description>Vehicle mileage at check-in</description>
        </field>
        <field name="mileageOut" type="number-integer">
            <description>Vehicle mileage at check-out</description>
        </field>
        <field name="totalLabor" type="currency-amount"/>
        <field name="totalParts" type="currency-amount"/>
        <field name="totalTax" type="currency-amount"/>
        <field name="totalAmount" type="currency-amount"/>
        <field name="createdDate" type="date-time" default="ec.user.nowTimestamp"/>
        <field name="updatedDate" type="date-time" update="ec.user.nowTimestamp"/>
    </entity>

</entities>
